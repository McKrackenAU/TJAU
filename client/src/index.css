@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
  
  /* Add padding to main content containers to prevent overlap with bottom navigation */
  main, 
  .container,
  .main-content,
  [role="main"] {
    padding-bottom: calc(3.5rem + env(safe-area-inset-bottom, 0.5rem));
    min-height: calc(100vh - 3.5rem);
    /* Add padding for the top notch/camera on iOS devices */
    padding-top: env(safe-area-inset-top, 0.5rem);
  }
  
  /* Add viewport height adjustment for mobile browsers */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }
  
  /* Apply padding to header elements to avoid camera notch */
  header, 
  .header, 
  .app-header,
  nav.top-0 {
    padding-top: env(safe-area-inset-top, 0);
  }
  
  /* Base styles for bottom navigation */
  .fixed.bottom-0 {
    padding-bottom: env(safe-area-inset-bottom, 0); /* Padding for iOS safe area */
    height: auto !important;
    min-height: 0 !important;
    border-top-width: 1px !important;
    box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.05); /* Add subtle shadow */
    position: fixed;
    bottom: 0;
    z-index: 50;
  }
  
  /* Desktop-specific styles */
  @media (min-width: 768px) {
    .fixed.bottom-0 {
      max-height: 60px !important;
    }
  }
  
  /* Mobile-specific styles */
  @media (max-width: 767px) {
    .fixed.bottom-0 {
      max-height: 40px !important;
      border-top-width: 1px !important;
      padding: 0 !important;
    }
    .fixed.bottom-0 svg {
      height: 22px !important; 
      width: 22px !important;
      margin: 8px auto !important;
    }
    
    /* Make bottom padding of content area smaller on mobile */
    main, .container, .main-content, [role="main"] {
      padding-bottom: calc(2.5rem + env(safe-area-inset-bottom, 0.5rem)) !important;
    }
  }
}

@layer utilities {
  .perspective-1000 {
    perspective: 1000px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
  }

  @keyframes glow {
    0%, 100% { 
      opacity: 0.8; 
      filter: drop-shadow(0 0 3px currentColor) brightness(1);
    }
    50% { 
      opacity: 1; 
      filter: drop-shadow(0 0 8px currentColor) brightness(1.3);
    }
  }

  @keyframes flame {
    0% { 
      transform: scale(0.95) rotate(-2deg); 
      filter: brightness(1);
    }
    50% { 
      transform: scale(1.05) rotate(2deg);
      filter: brightness(1.2);
    }
    100% { 
      transform: scale(0.95) rotate(-2deg);
      filter: brightness(1);
    }
  }

  @keyframes wave {
    0% { 
      transform: translateY(0) scale(1);
      filter: brightness(1);
    }
    50% { 
      transform: translateY(-4px) scale(1.05);
      filter: brightness(1.2);
    }
    100% { 
      transform: translateY(0) scale(1);
      filter: brightness(1);
    }
  }

  @keyframes balance {
    0% { 
      transform: rotate(-3deg) scale(1);
      filter: brightness(1);
    }
    50% { 
      transform: rotate(3deg) scale(1.05);
      filter: brightness(1.2);
    }
    100% { 
      transform: rotate(-3deg) scale(1);
      filter: brightness(1);
    }
  }

  @keyframes spin-slow {
    from { 
      transform: rotate(0deg) scale(1);
      filter: brightness(1);
    }
    50% {
      transform: rotate(180deg) scale(1.05);
      filter: brightness(1.2);
    }
    to { 
      transform: rotate(360deg) scale(1);
      filter: brightness(1);
    }
  }

  @keyframes pulse {
    0%, 100% { 
      opacity: 0.6; 
      transform: scale(0.98);
      filter: brightness(1);
    }
    50% { 
      opacity: 1; 
      transform: scale(1.02);
      filter: brightness(1.2);
    }
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }

  .animate-flame {
    animation: flame 1.5s ease-in-out infinite;
  }

  .animate-wave {
    animation: wave 2s ease-in-out infinite;
  }

  .animate-balance {
    animation: balance 3s ease-in-out infinite;
  }

  .animate-spin-slow {
    animation: spin-slow 4s linear infinite;
  }

  .animate-pulse {
    animation: pulse 2s ease-in-out infinite;
  }

  .rotateY-180 {
    transform: rotateY(180deg);
  }
}